var G,p,me,L,ie,we,K,j={},be=[],He=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,te=Array.isArray;function H(t,e){for(var n in e)t[n]=e[n];return t}function ke(t){var e=t.parentNode;e&&e.removeChild(t)}function Ne(t,e,n){var r,i,_,c={};for(_ in e)_=="key"?r=e[_]:_=="ref"?i=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?G.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return O(t,c,r,i,null)}function O(t,e,n,r,i){var _={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++me};return i==null&&p.vnode!=null&&p.vnode(_),_}function P(t){return t.children}function R(t,e){this.props=t,this.context=e}function B(t,e){if(e==null)return t.__?B(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__d||n.__e;return typeof t.type=="function"?B(t):null}function xe(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return xe(t)}}function le(t){(!t.__d&&(t.__d=!0)&&L.push(t)&&!q.__r++||ie!==p.debounceRendering)&&((ie=p.debounceRendering)||we)(q)}function q(){var t,e,n,r,i,_,c,l,s;for(L.sort(K);t=L.shift();)t.__d&&(e=L.length,r=void 0,i=void 0,_=void 0,l=(c=(n=t).__v).__e,(s=n.__P)&&(r=[],i=[],(_=H({},c)).__v=c.__v+1,ne(s,c,_,n.__n,s.ownerSVGElement!==void 0,c.__h!=null?[l]:null,r,l??B(c),c.__h,i),Te(r,c,i),c.__e!=l&&xe(c)),L.length>e&&L.sort(K));q.__r=0}function Pe(t,e,n,r,i,_,c,l,s,v,g){var o,h,f,a,u,$,y,m,S,k=0,w=r&&r.__k||be,N=w.length,T=N,W=e.length;for(n.__k=[],o=0;o<W;o++)(a=n.__k[o]=(a=e[o])==null||typeof a=="boolean"||typeof a=="function"?null:typeof a=="string"||typeof a=="number"||typeof a=="bigint"?O(null,a,null,null,a):te(a)?O(P,{children:a},null,null,null):a.__b>0?O(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a)!=null?(a.__=n,a.__b=n.__b+1,(m=Le(a,w,y=o+k,T))===-1?f=j:(f=w[m]||j,w[m]=void 0,T--),ne(t,a,f,i,_,c,l,s,v,g),u=a.__e,(h=a.ref)&&f.ref!=h&&(f.ref&&oe(f.ref,null,a),g.push(h,a.__c||u,a)),u!=null&&($==null&&($=u),(S=f===j||f.__v===null)?m==-1&&k--:m!==y&&(m===y+1?k++:m>y?T>W-y?k+=m-y:k--:k=m<y&&m==y-1?m-y:0),y=o+k,typeof a.type!="function"||m===y&&f.__k!==a.__k?typeof a.type=="function"||m===y&&!S?a.__d!==void 0?(s=a.__d,a.__d=void 0):s=u.nextSibling:s=$e(t,u,s):s=Se(a,s,t),typeof n.type=="function"&&(n.__d=s))):(f=w[o])&&f.key==null&&f.__e&&(f.__e==s&&(f.__=r,s=B(f)),Q(f,f,!1),w[o]=null);for(n.__e=$,o=N;o--;)w[o]!=null&&(typeof n.type=="function"&&w[o].__e!=null&&w[o].__e==n.__d&&(n.__d=w[o].__e.nextSibling),Q(w[o],w[o]))}function Se(t,e,n){for(var r,i=t.__k,_=0;i&&_<i.length;_++)(r=i[_])&&(r.__=t,e=typeof r.type=="function"?Se(r,e,n):$e(n,r.__e,e));return e}function $e(t,e,n){return n==null||n.parentNode!==t?t.insertBefore(e,null):e==n&&e.parentNode!=null||t.insertBefore(e,n),e.nextSibling}function Le(t,e,n,r){var i=t.key,_=t.type,c=n-1,l=n+1,s=e[n];if(s===null||s&&i==s.key&&_===s.type)return n;if(r>(s!=null?1:0))for(;c>=0||l<e.length;){if(c>=0){if((s=e[c])&&i==s.key&&_===s.type)return c;c--}if(l<e.length){if((s=e[l])&&i==s.key&&_===s.type)return l;l++}}return-1}function Ie(t,e,n,r,i){var _;for(_ in n)_==="children"||_==="key"||_ in e||z(t,_,null,n[_],r);for(_ in e)i&&typeof e[_]!="function"||_==="children"||_==="key"||_==="value"||_==="checked"||n[_]===e[_]||z(t,_,e[_],n[_],r)}function ce(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||He.test(e)?n:n+"px"}function z(t,e,n,r,i){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||ce(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||ce(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,_?se:ae,_)):t.removeEventListener(e,_?se:ae,_);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function ae(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(p.event?p.event(t):t)}function se(t){return this.l[t.type+!0](p.event?p.event(t):t)}function ne(t,e,n,r,i,_,c,l,s,v){var g,o,h,f,a,u,$,y,m,S,k,w,N,T,W,x=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(s=n.__h,l=e.__e=n.__e,e.__h=null,_=[l]),(g=p.__b)&&g(e);e:if(typeof x=="function")try{if(y=e.props,m=(g=x.contextType)&&r[g.__c],S=g?m?m.props.value:g.__:r,n.__c?$=(o=e.__c=n.__c).__=o.__E:("prototype"in x&&x.prototype.render?e.__c=o=new x(y,S):(e.__c=o=new R(y,S),o.constructor=x,o.render=Ue),m&&m.sub(o),o.props=y,o.state||(o.state={}),o.context=S,o.__n=r,h=o.__d=!0,o.__h=[],o._sb=[]),o.__s==null&&(o.__s=o.state),x.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=H({},o.__s)),H(o.__s,x.getDerivedStateFromProps(y,o.__s))),f=o.props,a=o.state,o.__v=e,h)x.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(x.getDerivedStateFromProps==null&&y!==f&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(y,S),!o.__e&&(o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(y,o.__s,S)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(o.props=y,o.state=o.__s,o.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(U){U&&(U.__=e)}),k=0;k<o._sb.length;k++)o.__h.push(o._sb[k]);o._sb=[],o.__h.length&&c.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(y,o.__s,S),o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(f,a,u)})}if(o.context=S,o.props=y,o.__P=t,o.__e=!1,w=p.__r,N=0,"prototype"in x&&x.prototype.render){for(o.state=o.__s,o.__d=!1,w&&w(e),g=o.render(o.props,o.state,o.context),T=0;T<o._sb.length;T++)o.__h.push(o._sb[T]);o._sb=[]}else do o.__d=!1,w&&w(e),g=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++N<25);o.state=o.__s,o.getChildContext!=null&&(r=H(H({},r),o.getChildContext())),h||o.getSnapshotBeforeUpdate==null||(u=o.getSnapshotBeforeUpdate(f,a)),Pe(t,te(W=g!=null&&g.type===P&&g.key==null?g.props.children:g)?W:[W],e,n,r,i,_,c,l,s,v),o.base=e.__e,e.__h=null,o.__h.length&&c.push(o),$&&(o.__E=o.__=null)}catch(U){e.__v=null,(s||_!=null)&&(e.__e=l,e.__h=!!s,_[_.indexOf(l)]=null),p.__e(U,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=je(n.__e,e,n,r,i,_,c,s,v);(g=p.diffed)&&g(e)}function Te(t,e,n){for(var r=0;r<n.length;r++)oe(n[r],n[++r],n[++r]);p.__c&&p.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(_){_.call(i)})}catch(_){p.__e(_,i.__v)}})}function je(t,e,n,r,i,_,c,l,s){var v,g,o,h=n.props,f=e.props,a=e.type,u=0;if(a==="svg"&&(i=!0),_!=null){for(;u<_.length;u++)if((v=_[u])&&"setAttribute"in v==!!a&&(a?v.localName===a:v.nodeType===3)){t=v,_[u]=null;break}}if(t==null){if(a===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a,f.is&&f),_=null,l=!1}if(a===null)h===f||l&&t.data===f||(t.data=f);else{if(_=_&&G.call(t.childNodes),g=(h=n.props||j).dangerouslySetInnerHTML,o=f.dangerouslySetInnerHTML,!l){if(_!=null)for(h={},u=0;u<t.attributes.length;u++)h[t.attributes[u].name]=t.attributes[u].value;(o||g)&&(o&&(g&&o.__html==g.__html||o.__html===t.innerHTML)||(t.innerHTML=o&&o.__html||""))}if(Ie(t,f,h,i,l),o)e.__k=[];else if(Pe(t,te(u=e.props.children)?u:[u],e,n,r,i&&a!=="foreignObject",_,c,_?_[0]:n.__k&&B(n,0),l,s),_!=null)for(u=_.length;u--;)_[u]!=null&&ke(_[u]);l||("value"in f&&(u=f.value)!==void 0&&(u!==t.value||a==="progress"&&!u||a==="option"&&u!==h.value)&&z(t,"value",u,h.value,!1),"checked"in f&&(u=f.checked)!==void 0&&u!==t.checked&&z(t,"checked",u,h.checked,!1))}return t}function oe(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){p.__e(r,n)}}function Q(t,e,n){var r,i;if(p.unmount&&p.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||oe(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(_){p.__e(_,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Q(r[i],e,n||typeof t.type!="function");n||t.__e==null||ke(t.__e),t.__=t.__e=t.__d=void 0}function Ue(t,e,n){return this.constructor(t,n)}function de(t,e,n){var r,i,_,c;p.__&&p.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],ne(e,t=(!r&&n||e).__k=Ne(P,null,[t]),i||j,j,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?G.call(e.childNodes):null,_,!r&&n?n:i?i.__e:e.firstChild,r,c),Te(_,t,c)}G=be.slice,p={__e:function(t,e,n,r){for(var i,_,c;e=e.__;)if((i=e.__c)&&!i.__)try{if((_=i.constructor)&&_.getDerivedStateFromError!=null&&(i.setState(_.getDerivedStateFromError(t)),c=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),c=i.__d),c)return i.__E=i}catch(l){t=l}throw t}},me=0,R.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=H({},this.state),typeof t=="function"&&(t=t(H({},n),this.props)),t&&H(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),le(this))},R.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),le(this))},R.prototype.render=P,L=[],we=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,K=function(t,e){return t.__v.__b-e.__v.__b},q.__r=0;const Be=`.fc-wallet-cart-widget-19212-root *{padding:0;margin:0;box-sizing:border-box}.fc-wallet-cart-widget-19212-root a{text-decoration:none;color:inherit}.fc-wallet-cart-widget-19212-root{width:100%}.fc-wallet-cart-widget-19212-root .login-container{background-color:#ebebeb;display:flex;justify-content:center;padding:10px}.fc-wallet-cart-widget-19212-root .wallet-box-container{background-color:#ebebeb;display:flex;justify-content:space-between;align-items:center;padding:14px 8px}.fc-wallet-cart-widget-19212-root .point-details{font-weight:bolder;margin-left:6px}.fc-wallet-cart-widget-19212-root .checkbox-container{padding:0 10px}.fc-wallet-cart-widget-19212-root .checkbox-container .container input{display:none}.fc-wallet-cart-widget-19212-root .checkbox-container .container{display:block;position:relative;cursor:pointer;font-size:20px;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.fc-wallet-cart-widget-19212-root .checkbox-container .checkmark{position:relative;top:0;left:0;height:25px;width:25px;background-color:#2196f300;border-radius:5px;transition:all .25s}.fc-wallet-cart-widget-19212-root .checkbox-container .container input:checked~.checkmark{background-color:#000}.fc-wallet-cart-widget-19212-root .checkbox-container .checkmark:after{content:"";position:absolute;transform:rotate(0);border:.1em solid black;left:0;top:0;width:25px;height:25px;border-radius:5px;transition:all .25s,border-width .1s}.fc-wallet-cart-widget-19212-root .checkbox-container .container input:checked~.checkmark:after{left:.45em;top:.25em;width:.25em;height:.5em;border-color:#fff0 white white #fff0;border-width:0 .15em .15em 0;border-radius:0;transform:rotate(45deg)}.fc-wallet-cart-widget-19212-root .circularloader{width:20px;transform-origin:center;animation:rotate4 2s linear infinite;margin-left:8px}.fc-wallet-cart-widget-19212-root .circularloader circle{fill:none;stroke:#000;stroke-width:5;stroke-dasharray:1,200;stroke-dashoffset:0;stroke-linecap:round;animation:dash4 1.5s ease-in-out infinite}@keyframes rotate4{to{transform:rotate(360deg)}}@keyframes dash4{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,200;stroke-dashoffset:-35px}to{stroke-dashoffset:-125px}}.fc-wallet-cart-widget-19212-root .skeletonloader{background-image:linear-gradient(90deg,#ccc 0px,rgb(229 229 229 / 90%) 40px,#ccc 80px);background-size:300%;background-position:100% 0;border-radius:inherit;animation:shimmer 1.5s infinite}@keyframes shimmer{to{background-position:-100% 0}}.fc-wallet-cart-widget-19212-root .wallet-applied-details-container{background-color:#ebebeb;margin-top:8px;padding:4px 8px}.fc-wallet-cart-widget-19212-root .wallet-applied-details-container .wallet-applied-details{display:flex;justify-content:space-between;align-items:center}
`;var J,b,D,fe,X=0,Ae=[],F=[],pe=p.__b,ue=p.__r,he=p.diffed,ge=p.__c,ye=p.unmount;function Ce(t,e){p.__h&&p.__h(b,t,X||e),X=0;var n=b.__H||(b.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:F}),n.__[t]}function I(t){return X=1,Me(Ee,t)}function Me(t,e,n){var r=Ce(J++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):Ee(void 0,e),function(l){var s=r.__N?r.__N[0]:r.__[0],v=r.t(s,l);s!==v&&(r.__N=[v,r.__[1]],r.__c.setState({}))}],r.__c=b,!b.u)){var i=function(l,s,v){if(!r.__c.__H)return!0;var g=r.__c.__H.__.filter(function(h){return h.__c});if(g.every(function(h){return!h.__N}))return!_||_.call(this,l,s,v);var o=!1;return g.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(o=!0)}}),!(!o&&r.__c.props===l)&&(!_||_.call(this,l,s,v))};b.u=!0;var _=b.shouldComponentUpdate,c=b.componentWillUpdate;b.componentWillUpdate=function(l,s,v){if(this.__e){var g=_;_=void 0,i(l,s,v),_=g}c&&c.call(this,l,s,v)},b.shouldComponentUpdate=i}return r.__N||r.__}function Y(t,e){var n=Ce(J++,3);!p.__s&&Fe(n.__H,e)&&(n.__=t,n.i=e,b.__H.__h.push(n))}function Oe(){for(var t;t=Ae.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(V),t.__H.__h.forEach(Z),t.__H.__h=[]}catch(e){t.__H.__h=[],p.__e(e,t.__v)}}p.__b=function(t){b=null,pe&&pe(t)},p.__r=function(t){ue&&ue(t),J=0;var e=(b=t.__c).__H;e&&(D===b?(e.__h=[],b.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=F,n.__N=n.i=void 0})):(e.__h.forEach(V),e.__h.forEach(Z),e.__h=[],J=0)),D=b},p.diffed=function(t){he&&he(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ae.push(e)!==1&&fe===p.requestAnimationFrame||((fe=p.requestAnimationFrame)||Re)(Oe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==F&&(n.__=n.__V),n.i=void 0,n.__V=F})),D=b=null},p.__c=function(t,e){e.some(function(n){try{n.__h.forEach(V),n.__h=n.__h.filter(function(r){return!r.__||Z(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],p.__e(r,n.__v)}}),ge&&ge(t,e)},p.unmount=function(t){ye&&ye(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{V(r)}catch(i){e=i}}),n.__H=void 0,e&&p.__e(e,n.__v))};var ve=typeof requestAnimationFrame=="function";function Re(t){var e,n=function(){clearTimeout(r),ve&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);ve&&(e=requestAnimationFrame(n))}function V(t){var e=b,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),b=e}function Z(t){var e=b;t.__c=t.__(),b=e}function Fe(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function Ee(t,e){return typeof e=="function"?e(t):e}var Ve=0;function d(t,e,n,r,i,_){var c,l,s={};for(l in e)l=="ref"?c=e[l]:s[l]=e[l];var v={type:t,props:s,key:n,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Ve,__source:i,__self:_};if(typeof t=="function"&&(c=t.defaultProps))for(l in c)s[l]===void 0&&(s[l]=c[l]);return p.vnode&&p.vnode(v),v}function qe({walletApplied:t,setWalletApplied:e}){return d(P,{children:d("div",{class:"checkbox-container",children:d("label",{class:"container",children:[d("input",{checked:t,type:"checkbox",onClick:()=>{e(n=>!n)}}),d("div",{class:"checkmark"})]})})})}function ze(){return d(P,{children:d("svg",{class:"circularloader",viewBox:"25 25 50 50",children:d("circle",{r:"20",cy:"50",cx:"50"})})})}function M({width:t="30px",height:e="10px"}){return d(P,{children:d("div",{class:"skeletonloader",style:{width:t,height:e}})})}function Je({customerDetails:t}){const[e,n]=I(null),[r,i]=I(localStorage.getItem("fc-wallet-cart-applied")==="true"||!1),[_,c]=I(!1),[l,s]=I({remainingWalletBalance:0,walletDiscountApplied:0,currency:null,totalPayablePrice:0}),v=async()=>{var h,f,a,u;c(!0);try{let y=await(await fetch(`${ee}/user-walletlogs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer_id:t==null?void 0:t.customerID,user_hash:t==null?void 0:t.customerTags,client_id:t==null?void 0:t.clientID})})).json(),m=((u=(a=(f=(h=y==null?void 0:y.data)==null?void 0:h.data)==null?void 0:f.wallet)==null?void 0:a.wallet)==null?void 0:u.amount)||0;n(m)}catch{n(0),c(!1)}c(!1)},g=async h=>{var a,u,$,y,m;if(c(!0),h){const S="WALLET_REMOVED19212";fetch(`/discount/${S}`),await fetch(`/checkout/?discount=${S}`,{method:"POST"})}else{const k=await(await fetch(`/cart.json?v=${Date.now()}`)).json(),w=(u=(a=k==null?void 0:k.cart_level_discount_applications)==null?void 0:a.find(C=>{var E;return(E=C==null?void 0:C.title)==null?void 0:E.includes("WALLETAPPLIED")}))==null?void 0:u.total_allocated_amount,N=w?w/100:0,T=(k==null?void 0:k.total_price)/100+N,W=Math.min(Number(e),Number(T));try{const E=await(await fetch(`${ee}/loyalty/get-wallet-coupon`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t==null?void 0:t.clientID,customer_id:t==null?void 0:t.customerID,wallet_points:W})})).json();var f=($=E==null?void 0:E.data)==null?void 0:$.coupon_code}catch{c(!1)}fetch(`/discount/${f}`);const x=await fetch(`/checkout/?discount=${f}`,{method:"POST"});x==null||x.url;const A=await(await fetch(`/cart.json?v=${Date.now()}`)).json(),re=(m=(y=A==null?void 0:A.cart_level_discount_applications)==null?void 0:y.find(C=>{var E;return(E=C==null?void 0:C.title)==null?void 0:E.includes("WALLETAPPLIED")}))==null?void 0:m.total_allocated_amount,_e=re?re/100:0;s({remainingWalletBalance:Number(e)-_e,walletDiscountApplied:_e,currency:A==null?void 0:A.currency,totalPayablePrice:(A==null?void 0:A.total_price)/100})}c(!1)},o=()=>{i(h=>{g(h);try{localStorage.setItem("fc-wallet-cart-applied",`${!h}`)}catch(f){console.log(f)}return!h})};return Y(()=>{v()},[]),Y(()=>{e!==null&&g(!r)},[e]),d(P,{children:[d("div",{class:"wallet-box-container",onClick:o,children:[d("p",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[d(qe,{walletApplied:r,setWalletApplied:i}),d("span",{children:"Use Wallet Credit"}),_?d("span",{children:d(ze,{})}):d(P,{})]}),d("p",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[d("p",{children:"Avl Bal "}),d("strong",{class:"point-details",children:[" ",_?d(P,{children:d(M,{width:"50px",height:"16px"})}):e]})]})]}),r?d("div",{class:"wallet-applied-details-container",children:[d("div",{class:"wallet-applied-details",children:[d("p",{children:"Remaining Wallet Balance"}),d("p",{class:"point-details",children:_?d(M,{width:"50px",height:"16px"}):l==null?void 0:l.remainingWalletBalance})]}),d("div",{class:"wallet-applied-details",children:[d("p",{children:"Wallet Discount Applied"}),d("p",{class:"point-details",children:_?d(M,{width:"50px",height:"16px"}):l!=null&&l.walletDiscountApplied?d(P,{children:["- ","₹",` ${l==null?void 0:l.walletDiscountApplied}`]}):0})]}),d("div",{class:"wallet-applied-details",children:[d("p",{children:"Total Payable Amount"}),d("p",{class:"point-details",children:_?d(M,{width:"50px",height:"16px"}):d(P,{children:["₹",` ${l==null?void 0:l.totalPayablePrice}`]})})]})]}):d(P,{})]})}function Ge({themeDetails:t}){var e;return d(P,{children:d("div",{class:"login-container",children:d("a",{href:(e=t==null?void 0:t.data)==null?void 0:e.login_page,children:"Login to use wallet discount"})})})}function De(t){const[e,n]=I({customerID:"",customerTags:"",clientID:""}),[r,i]=I(null),_=async({client_id:c})=>{const s=await(await fetch(`${ee}/get-theme-details`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:c})})).json();i(s)};return Y(()=>{var g;const c=document.querySelector("#fc-wallet-cart-widget-script-19212"),l=c.getAttribute("data-customer-id"),s=(g=c.getAttribute("data-customer-tag"))==null?void 0:g.trim(),v=c.getAttribute("data-client-id");n({customerID:l,customerTags:s,clientID:v}),_({client_id:v})},[]),d(P,{children:e!=null&&e.customerID?d(Je,{customerDetails:e}):d(Ge,{themeDetails:r})})}function Ke(){return d(P,{children:[d("div",{class:"widget-container",children:d(De,{})}),d("div",{class:"widget-styles"})]})}function Qe(){return d("style",{children:Be})}const ee="https://boat-api.farziengineer.co";function We(){const t=document.getElementById("fc-wallet-cart-widget-19212");t.innerHTML="";let e=document.createElement("div");e.className="fc-wallet-cart-widget-19212-target",e.style.display="block",t.appendChild(e);let n=e.attachShadow({mode:"open"}),r=document.createElement("div");r.className="fc-wallet-cart-widget-19212-root",n.appendChild(r),de(d(Ke,{}),r),de(d(Qe,{}),r==null?void 0:r.querySelector(".widget-styles"))}window.fc_loyalty_render_wallet_box=We;We();
